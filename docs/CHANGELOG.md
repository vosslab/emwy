# Changelog

## Unreleased
- Frozen TUI elapsed time once completion is printed.
- Fixed command total estimation for animated overlay text generators.
- Colorized dashboard and project panels to match the Nord-style palette.
- Shifted TUI command highlighting to a Nord-style, low-saturation palette.
- Added overlay_text animation cycle support with `{animate}` placeholders and YAML output.
- Updated silence_annotator defaults to emit animated fast-forward overlays.
- Documented overlay text animation fields and added YAML writer test coverage.
- Updated demo_codex overlay templates to use animated fast-forward text.
- Added CLI-style command highlighting for emwy_tui command logs.
- Fixed overlay compositing opacity filter for recent ffmpeg colorchannelmixer parsing.
- Reset emwy_tui debug log on each run instead of appending.
- Added pytest coverage for overlay ffmpeg behaviors.
- Removed deprecated Pillow mode arguments in titlecard image creation.
- Added pytest coverage for ffmpeg/sox/mkvmerge tooling behaviors.
- Relaxed tooling test duration bounds and added minimal assets to generator tests.
- Added pytest coverage for custom font_file rendering.
- Added ETA and improved elapsed time formatting in emwy_tui metrics.
- Fixed command total estimate to include chapter muxing and surfaced command total calculation in the TUI.
- Added a COMPLETE! ASCII banner in the TUI finish state.
- Added TUI command coloring and clearer ETA updates while sampling command durations.
- Moved ETA display onto the Commands line in the TUI dashboard.
- Added unit tests for TUI ETA and duration formatting.
- Updated demo_codex overlay text style to use a boxed background and adjusted overlay opacity.
- Softened TUI command log colors for a subtler look.
- Added estimated total time to the elapsed display in the TUI dashboard.
- Removed decimals from estimated ETA/total times in the TUI dashboard.
- Rounded estimated ETA/total times up to the next whole second.
- Delay ETA display until at least 8 commands have completed.
- Update ETA estimates only after command completion and adjust remaining-time formula.
- Adjusted ETA formula to weight the last steps (remaining + 3).
- Render overlay generator cards at overlay geometry size and error on missing font files.
- Added a unit test to confirm custom font paths are used during card rendering.
- Added system font discovery helper for cross-platform font tests.
- Improved vertical centering of overlay text and card text using font bounding boxes.
- Updated AGENTS guidance with notes for future Codex runs.
- Merge batching now occurs during segment/overlay generation instead of only at the end.
- Disabled tqdm in quiet mode to avoid multiprocessing lock errors in the TUI.
- Added a debug log mode for emwy_tui.py and colorized command output when rich is available.
- Added a subprocess fallback for fds_to_keep errors during command execution.
- Added `emwy_cli.py` and moved `emwy_tui.py` to the repo root.
- Added output merge batching controls for large timelines.
- Fixed overlay transparent blanks to preserve alpha so overlays do not show black boxes.
- Added a Textual TUI wrapper for emwy renders.
- Replaced deprecated scipy.ndimage.filters import in title card rendering.
- Defaulted cache directory for temporary render files to a per-run temp dir.
- Fixed title card ffmpeg profile for libx265 to avoid zero-byte output files.
- Fixed title card image rendering to use the temp directory pattern for ffmpeg input.
- Added silence annotator trim_leading_silence/trim_trailing_silence options (default true).
- Fixed title card rendering with newer Pillow versions (getbbox fallback).
- Standardized silence annotator outputs to use `<input>.*` filenames (including extensions).
- Allowed playback styles to supply overlay_text_style defaults for overlay templates.
- Added docs/TODO.md with MLT overlay export pre-render task.
- Renamed silence annotator fast playback style id to `fast_forward`.
- Added playback_styles to apply shared speed presets to source segments.
- Added default silence annotator intro title card output.
- Enforced matching audio/video speeds on source segments.
- Added overlay_text generator and overlay_text_styles for dedicated overlay labels.
- Added overlay template apply rules so fast-forward title cards can be authored once.
- Added overlay tracks with transparent blanks and overlay rendering support.
- Added `still` generator support and transparent card backgrounds for overlays.
- Documented overlay authoring and updated Shotcut export limitations.
- Updated silence annotator YAML to include fast-forward overlays.
- Fixed pyflakes runner to avoid null-separated sort errors.
- Documented MLT interop mapping and added export test coverage.
- Added silence annotator config file support and simplified CLI flags.
- Polished silence annotator config validation and defaults handling.
- Added MLT import/export specification docs.
- Added `pyproject.toml` and `MANIFEST.in` for packaging metadata.
- Added centralized version file and release history doc.
- Expanded pyflakes runner output with categorized error counts.
- Expanded pyflakes error categorization patterns.
- Expanded pyflakes syntax error matching.
- Added output for unclassified pyflakes errors.
- Filtered pyflakes summaries to true error lines and added warning category.
- Filtered first/random/last pyflakes output to error lines only.
- Implemented MKV chapter export from segment titles.
- Reshaped README introduction to lead with the EMWY acronym and MLT compatibility.
- Clarified the EMWY acronym in the README.
- Resolved AGENTS documentation links to use `docs/` paths.
- Added `.DS_Store` to `.gitignore`.
- Fixed documentation links to `docs/PYTHON_STYLE.md`.
- Moved contributor guidance to `docs/DEVELOPMENT.md`.
- Renamed `docs/ARCHITECTURE.md` to `docs/CODE_ARCHITECTURE.md`.
- Added documentation scaffolding and agent descriptions.
- Introduced pip requirements file for development tooling.
- Documented installation, CLI usage, cookbook recipes, and troubleshooting tips.
- Added v2 sample project with `.emwy.yaml` extension and run script.
- Added MLT exporter module for v2 YAML projects.
- Split media wrappers into `emwylib/media` for ffmpeg and sox helpers.
- Added `paired_audio` expansion for generator entries when playlists are aligned.
- Made `timeline.segments` the required authoring surface; playlists/stack are compiled-only.
- Removed `take` support from v2 loader and timeline.
- Updated rendering to process and mux A/V per segment before concatenation.
- Added CLI flags for temp retention and cache directory (`--keep-temp`, `--cache-dir`).
- Added title/chapter card backgrounds (image, color, gradient) with font overrides.

## v1.0.0
- Initial public release of emwy with YAML v2 parser and CLI.
